<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script>
    //CELULAR
    
        function formatarCelular(input) {
        var numCelular = input.value.replace(/\D/g, '');
        var formattedNum = '';

        if (numCelular.length > 2) {
            formattedNum += '(' + numCelular.substring(0, 2) + ')';
        } else {
            formattedNum += '(' + numCelular.substring(0, 2);
        }

        if (numCelular.length > 2 && numCelular.length <= 7) {
            formattedNum += ' ' + numCelular.substring(2, 7);
        } else if (numCelular.length > 7) {
            formattedNum += ' ' + numCelular.substring(2, 7) + '-' + numCelular.substring(7);
        }

        input.value = formattedNum;
    }

    // CPF 

    function formatarCPF(input) {
        var numCPF = input.value.replace(/\D/g, '');

        // Garante que o usuário possa digitar livremente sem interferência na entrada
        var formattedCPF = numCPF;

        // Adiciona os pontos e o hífen conforme necessário
        if (numCPF.length > 3) {
            formattedCPF = numCPF.substring(0, 3) + '.' + formattedCPF.substring(3);
        }
        if (numCPF.length > 6) {
            formattedCPF = formattedCPF.substring(0, 7) + '.' + formattedCPF.substring(7);
        }
        if (numCPF.length > 9) {
            formattedCPF = formattedCPF.substring(0, 11) + '-' + formattedCPF.substring(11);
        }

        // Atualiza o valor do campo de entrada com o CPF formatado
        input.value = formattedCPF;
    }

    // CEP
    
    function formatarCEP(input) {
        var numCEP = input.value.replace(/\D/g, ''); // Remove caracteres não numéricos

        // Adiciona um hífen após os primeiros 5 dígitos, se houver mais de 5 dígitos
        if (numCEP.length > 5) {
            numCEP = numCEP.substring(0, 5) + '-' + numCEP.substring(5);
        }

        // Limita o comprimento do CEP formatado para 9 caracteres
        if (numCEP.length > 9) {
            numCEP = numCEP.substring(0, 9);
        }

        // Atualiza o valor do campo de entrada com o CEP formatado
        input.value = numCEP;
    }

    </script>
</head>
<body>
    <form action="" method="get">
        <div>
            <label for="celular">Celular</label>
            <input type="tel" name="celular" id="celular" pattern="^\(\d{2}\)\s\d{5}-\d{4}$" required maxlength="15" oninput="formatarCelular(this)" placeholder="(01) 12345-6789" title="Ex: (01) 12345-1234">
        </div>

        <div>
            <label for="cpf">CPF</label>
            <input type="text" name="cpf" id="cpf" pattern="^\d{3}[.]\d{3}[.]\d{3}-\d{2}$" required maxlength="14" oninput="formatarCPF(this)" placeholder="123.456.789-01" title="Ex: 123.456.789-01">
        </div>
        
        <div>
            <label for="cep">CEP</label>
            <input type="tel" name="cep" id="cep" pattern="^\d{5}-\d{3}$" required maxlength="9" oninput="formatarCEP(this)" placeholder="12345-678" title="12345-678">
        </div>

        <div>
            <input type="submit" value="Enviar">
        </div>
    </form>
</body>
</html>